<!DOCTYPE html>
<html lang="ru" prefix="og: https://ogp.me/ns#">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ -->
    <meta name="description" content="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä —Å–µ—Ç–µ–π –ü–µ—Ç—Ä–∏ ‚Äî —á–∞—Å—Ç—å –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–±–æ—Ç –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ ¬´–ê–≤—Ç–æ–º–∞—Ç—ã¬ª –≤ –ù–ò–Ø–£ –ú–ò–§–ò">
    <meta name="author" content="–ö–∞—Ñ–µ–¥—Ä–∞ ‚Ññ22 ¬´–ö–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∞¬ª, –ù–ò–Ø–£ –ú–ò–§–ò">
    <meta name="generator" content="PetriSimulator v1.0">

    <!-- Open Graph –º–µ—Ç–∞—Ç–µ–≥–∏ –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="–°–∏–º—É–ª—è—Ç–æ—Ä —Å–µ—Ç–µ–π –ü–µ—Ç—Ä–∏ | –ú–ò–§–ò">
    <meta property="og:url" content="https://study.aia.expert/petri-simulator">
    <meta property="og:site_name" content="–£—á–µ–±–Ω—ã–π —Ü–µ–Ω—Ç—Ä –ú–ò–§–ò">

    <title>–°–µ—Ç–∏ –ü–µ—Ç—Ä–∏ | –°–∏–º—É–ª—è—Ç–æ—Ä</title>
    
    <link rel="stylesheet" href="./static/css/style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">  
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <header>
        <h2>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä —Å–µ—Ç–µ–π –ü–µ—Ç—Ä–∏</h2>
        
        <div class="header-controls">
            <button class="btn" id="new-network-btn">–ù–æ–≤–∞—è —Å–µ—Ç—å</button>
            <button class="btn" id="load-example-btn">–ü—Ä–∏–º–µ—Ä—ã</button>
            <button class="btn" id="save-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="btn" id="load-network-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å
                <input type="file" id="load-network-input" accept=".json" style="display: none;">
            </button>
            
            <a href="info.html" class="back-button">
                <button class="btn-secondary" id="help-btn">–°–ø—Ä–∞–≤–∫–∞</button>
            </a>
        </div>
        
        <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
        <button class="theme-toggle" id="theme-toggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">‚òÄÔ∏è</button>
    </header>

    <main>
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <aside class="sidebar" role="complementary">
            <!-- –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–µ—Ç–∏ -->
            <section class="toolbar">
                <h2>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h2>
                <div class="tool-buttons">
                    <div class="tool-button" data-tool="position" aria-pressed="true">
                        <h2>üìç</h2>
                        <span>–ü–æ–∑–∏—Ü–∏—è</span>
                    </div>
                    <div class="tool-button" data-tool="transition" aria-pressed="false">
                        <h2>üîÑ</h2>
                        <span>–ü–µ—Ä–µ—Ö–æ–¥</span>
                    </div>
                    <div class="tool-button" data-tool="arc" aria-pressed="false">
                        <h2>üîó</h2>
                        <span>–î—É–≥–∞</span>
                    </div>
                    <div class="tool-button" data-tool="token" aria-pressed="false">
                        <h2>üîò</h2>
                        <span>–§–∏—à–∫–∞</span>
                    </div>
                    <div class="tool-button" data-tool="move" aria-pressed="false">
                        <h2>‚ÜîÔ∏è</h2>
                        <span>–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ</span>
                    </div>
                    <div class="tool-button" data-tool="delete" aria-pressed="false">
                        <h2>üóëÔ∏è</h2>
                        <span>–£–¥–∞–ª–∏—Ç—å</span>
                    </div>
                </div>
            </section>

            <!-- –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ -->
            <section class="properties" id="properties-panel">
                <h2>–°–≤–æ–π—Å—Ç–≤–∞</h2>

                <!-- –°–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –ø–æ–∑–∏—Ü–∏–∏ -->
                <div class="property-group" id="position-properties" style="display: none;">
                    <h3>–ü–æ–∑–∏—Ü–∏—è</h3>
                    <div class="property">
                        <label for="position-name">–ò–º—è</label>
                        <input type="text" id="position-name" value="P1">
                    </div>
                    <div class="property">
                        <label for="token-count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏—à–µ–∫</label>
                        <input type="number" id="token-count" value="1" min="0">
                    </div>
                    <div class="property">
                        <label for="position-type">–¢–∏–ø —Ñ–∏—à–∫–∏</label>
                        <select id="position-type">
                            <option value="default">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
                            <option value="red">–û–±—ä–µ–∫—Ç–Ω—ã–π</option>
                        </select>
                    </div>
                </div>

                <!-- –°–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ -->
                <div class="property-group" id="transition-properties" style="display: none;">
                    <h3>–ü–µ—Ä–µ—Ö–æ–¥</h3>
                    <div class="property">
                        <label for="transition-name">–ò–º—è</label>
                        <input type="text" id="transition-name" value="T1">
                    </div>
                    <div class="property">
                        <label for="guard-condition">Guard-—É—Å–ª–æ–≤–∏–µ</label>
                        <input type="text" id="guard-condition" placeholder="x > 0">
                    </div>
                    <div class="property">
                        <label for="transition-delay">–ó–∞–¥–µ—Ä–∂–∫–∞ (–º—Å)</label>
                        <input type="number" id="transition-delay" value="0" min="0">
                    </div>
                </div>

                <!-- –°–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –¥—É–≥–∏ -->
                <div class="property-group" id="arc-properties" style="display: none;">
                    <h3>–î—É–≥–∞</h3>
                    <div class="property">
                        <label for="arc-weight">–í–µ—Å –¥—É–≥–∏</label>
                        <input type="number" id="arc-weight" value="1" min="1">
                        <label for="arc-type" style="margin-top: 10px">–¢–∏–ø –¥—É–≥–∏</label>
                        <select id="arc-type">
                            <option value="default">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
                            <option value="red">–ò–Ω–≥–∏–±–∏—Ç–æ—Ä</option>
                        </select>
                    </div>
                </div>

                <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
                <div class="property-group" id="default-properties" style="display: block;">
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —Ö–æ–ª—Å—Ç–µ, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞.</p>
                </div>
            </section>
        </aside>

        <!-- –†–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å -->
        <section class="workspace" role="main">
            <div class="workspace-header">
                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–µ–π -->
                <div class="simulation-controls">
                    <button class="btn" id="reset-btn">‚Üª –°–±—Ä–æ—Å</button>
                    <button class="btn" id="mark-save-btn">üíæ</button>
                    <button class="btn" id="step-btn">‚û° –®–∞–≥</button>
                    <button class="btn" id="play-btn">‚èµ –ü—É—Å–∫</button>
                    <div class="speed-control">
                        <label for="speed-slider">–°–∫–æ—Ä–æ—Å—Ç—å: </label>
                        <input type="range" id="speed-slider" min="1" max="20" value="5">
                        <span id="speed-value">5x</span>
                    </div>
                </div>

                <!-- –ê–Ω–∞–ª–∏–∑ —Å–µ—Ç–∏ -->
                <div class="simulation-controls">
                    <button class="btn" id="analyze-btn">üîç –ê–Ω–∞–ª–∏–∑</button>
                </div>
            </div>

            <!-- –•–æ–ª—Å—Ç –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å–µ—Ç–∏ –ü–µ—Ç—Ä–∏ -->
            <div class="canvas-container">
                <canvas id="petri-net-canvas"></canvas>
            </div>
        </section>
    </main>

    <footer>
        <p>–£—á–µ–±–Ω—ã–π —Ü–µ–Ω—Ç—Ä –ù–ò–Ø–£ –ú–ò–§–ò –ø—Ä–æ–≥—Ä–∞–º–º—ã <em>¬´–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤¬ª</em></p>
        <p>–ö–∞—Ñ–µ–¥—Ä–∞ ‚Ññ22 ¬´–ö–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∞¬ª | –ú–æ—Å–∫–≤–∞, 2025 –≥. |
           <a href="https://study.aia.expert/" target="_blank">study.aia.expert</a>
        </p>
    </footer>

    <script src="./static/js/script.js"></script>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞ —Å–µ—Ç–∏ -->
    <div id="analysis-modal" class="modal">
        <div class="modal-content">
            <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ —Å–µ—Ç–∏ –ü–µ—Ç—Ä–∏</h3>
            <div id="analysis-results">
                <p>–ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞...</p>
            </div>
            <button onclick="closeAnalysisModal()" class="close-modal-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ —Å–µ—Ç–µ–π –ü–µ—Ç—Ä–∏ -->
    <div id="examples-modal" class="modal">
        <div class="modal-content">
            <h3>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä —Å–µ—Ç–∏</h3>
            
            <button onclick="loadExample('producer-consumer')" class="example-btn">
                üè≠ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å-–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å
            </button>
            
            <button onclick="loadExample('fork-join')" class="example-btn">
                ‚ûø Fork-Join (–†–∞—Å—â–µ–ø–ª–µ–Ω–∏–µ-–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ)
            </button>
            
            <button onclick="loadExample('inhibitor')" class="example-btn">
                ‚õî –° –∏–Ω–≥–∏–±–∏—Ç–æ—Ä–Ω—ã–º–∏ –¥—É–≥–∞–º–∏
            </button>
            
            <button onclick="closeExamplesModal()" class="close-modal-btn">
                –ó–∞–∫—Ä—ã—Ç—å
            </button>
        </div>
    </div>
    
</body>
</html>